$(document).ready(function (){    $(document).on('submit','#form_ingredient',function (event){        event.preventDefault()        var formData = new FormData(this)        formData.append('action','store')        $.ajax({            url: '../controllers/ingredientController.php',            type: 'post',            data: formData,            processData: false,            contentType: false,            dataType: 'json',            success: function (res){                function ErrorMessage(field ,message){                    if (message){                        $(`#${field}_msg`).html(message)                        $(`#${field}`).addClass('is-invalid')                    }else {                        $(`#${field}_msg`).html('')                        $(`#${field}`).removeClass('is-invalid')                    }                }                if (res.errors){                    ErrorMessage('Ingredient_Name',res.errors.Ingredient_Name)                    ErrorMessage('Unit',res.errors.Unit)                    ErrorMessage('stock',res.errors.stock)                    ErrorMessage('Reorder',res.errors.Reorder)                    return;                }                // show the success message                if (res.success === true){                    Swal.fire({                        text: res.message,                        icon: "success"                    });                }                if (res.success === false){                    Swal.fire({                        text: res.message,                        icon: "warning",                        toast: true,                        position: 'top-end',                        showConfirmButton: false,                        timer: 1000,  // Auto close after 1 second                        timerProgressBar: true  // Optional: Shows a progress bar indicating the remaining time                    });                }                $('#Unit').val('')                $('#stock').val('')                $('#Ingredient_Name').val('')                $('#Reorder').val('')            }        })    })$(document).on('click','#btnEditIngredient',function (id){    $.ajax({        url: '../controllers/ingredientController.php',        type: 'post',        data: {Id: id.target.value,action: 'showBaseOnId'},        success: function (data){            $('body').append(data)            $(`#modalUpdate_ingredient_${id.target.value}`).modal('show')        }    })})    $(document).on('submit','#form_ingredientUpdate',function (event){        event.preventDefault();        var dataForm = new FormData(this)        dataForm.append('action','update')        $.ajax({            url: '../controllers/ingredientController.php',            type: 'post',            data: dataForm,            processData: false,            contentType: false,            dataType: 'json',            success: function (res){                function ErrorMessage(field, message) {                    if (message) {                        Swal.fire({                            text: message, // Correctly use the passed 'message' parameter                            icon: "error" // Use "error" since this is for error messages                        });                    }                }               // Check for errors in the response                if (res.errors) {                    if (res.errors.Ingredient_Name) {                        ErrorMessage('Ingredient_Name', res.errors.Ingredient_Name);                    }                    if (res.errors.Unit) {                        ErrorMessage('Unit', res.errors.Unit);                    }                    if (res.errors.stock) {                        ErrorMessage('stock', res.errors.stock);                    }                    if (res.errors.Reorder) {                        ErrorMessage('Reorder', res.errors.Reorder);                    }                    return;                }                // show the success message                if (res.success === true){                    Swal.fire({                        text: res.message,                        icon: "success",                        showConfirmButton: false                    })                    setTimeout(()=>{window.location.reload()},1000)                }                if (res.success === false){                    Swal.fire({                        text: res.message,                        icon: "warning",                        toast: true,                        position: 'top-end',                        showConfirmButton: false,                        timer: 1000,  // Auto close after 1 second                        timerProgressBar: true  // Optional: Shows a progress bar indicating the remaining time                    });                }            }        })    })    $(document).on('click','#btnArchive',function (id){        Swal.fire({            title: "Are you sure?",            text: "You won't be able to revert this!",            icon: "warning",            showCancelButton: true,            confirmButtonColor: "#6610F2",            cancelButtonColor: "#d33",            confirmButtonText: "Yes, delete it!"        }).then((result) => {            if (result.isConfirmed) {                $.ajax({                    url: '../controllers/ingredientController.php',                    type: 'post',                    data: {Id: id.target.value,action: 'archive'},                    dataType: 'json',                    success: function (res){                        if (res.success === true){                            Swal.fire({                                text: res.message,                                icon: "success",                                showConfirmButton: false,                            });                            setTimeout(() =>{window.location.reload()},1000)                        }                        if (res.success === false){                            Swal.fire({                                text: res.message,                                icon: "error",                                showConfirmButton: false,                            });                        }                    }                })            }        });    })    //counted ingredients    $.ajax({        url: '../controllers/ingredientController.php',        type: 'post',        data:{action: 'counted'},        dataType:'json',        success:function (res){            $('#countedIngredients').html(res)        }    })})