<?phpsession_start();// Use null coalescing to avoid warnings and provide a default value$role = $_SESSION['role'] ?? null;if ($role === 'admin') {    header('Location: ./views/dashboard.php');    exit();}if ($role === 'cashier') {    header('Location: ./views/pos_view.php');    exit();}?><!doctype html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport"          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <!-- start: Icons -->    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">    <!-- start: Icons -->    <!-- start: CSS -->    <link rel="stylesheet" href="assets/css/bootstrap.min.css">    <link rel="stylesheet" href="assets/css/style.css">    <script src="js/bootstrap.bundle.min.js"></script>    <!-- end: CSS -->    <!-- JQUERY CDN -->    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>    <!-- SWEET ALERT -->    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.dataTables.css" />    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>    <title>Login</title></head><style>    /* Background styling */    body {        background-image:                linear-gradient(to bottom, rgba(53, 56, 19, 0.5), rgba(16, 12, 12, 0.8)),                url('assets/images/bg-removebg-preview.png'); /* Adjust path as needed */        background-position: center;        background-repeat: no-repeat;        background-size: cover;        height: 100vh; /* Adjust if needed for specific containers */        display: flex;        flex-direction: column;        justify-content: center;        align-items: center;        margin: 0; /* Ensure no unintended margin around the body */    }</style><body><div class="card col-lg-3 p-3 bg-light border-0">    <div class="card-header bg-transparent">        <h1 style="color: #6610F2" class="fw-bold text-muted fs-6">Login</h1>    </div>    <div class="card-body">        <form id="adminFormLogin" class="d-flex flex-column gap-2"  method="post">            <div class="form-floating mb-3">                <input type="text" name="username" class="form-control" id="username" placeholder="username">                <label for="username">Username</label>                <div id="username_msg" class="invalid-feedback"></div>            </div>            <div class="form-floating mb-3">                <input autocomplete="password" type="password" name="password" class="form-control" id="password" placeholder="password">                <label for="password">Password</label>                <div id="password_msg" class="invalid-feedback"></div>            </div>            <select name="role" class="form-select form-select-sm mt-2" aria-label="Small select example">                <option id="role_msg" class="invalid-feedback" value="">Role</option>                <option value="admin">Admin</option>                <option value="cashier">Cashier</option>            </select>            <button style="background-color:  #6610F2" type="submit" class="btn text-light">Log In</button>        </form>    </div></div></body></html><script>    $(document).ready(function (){        $(document).on('submit','#adminFormLogin',function (event){            event.preventDefault()            var formData = new FormData(this)            formData.append('action','login')            $.ajax({                url: 'controllers/authController.php',                type: 'post',                data: formData,                contentType: false,                processData: false,                dataType: 'json',                success: function (res){                    function ErrorMessage(field ,message){                        if (message){                            $(`#${field}_msg`).html(message)                            $(`#${field}`).addClass('is-invalid')                        }else {                            $(`#${field}_msg`).html('')                            $(`#${field}`).removeClass('is-invalid')                        }                    }                    if (res.errors){                        ErrorMessage('username',res.errors.username)                        ErrorMessage('role',res.errors.role)                        ErrorMessage('password',res.errors.password)                        return                    }                    // show the success message                    if (res.success === true){                        Swal.fire({                            text: res.message,                            icon: "success",                            toast: true,                            background: '#6610F2',                            position: 'top-end',                            color: 'white',                            iconColor: 'white',                            showConfirmButton: false,                            timer: 1000,  // Auto close after 1 second                            timerProgressBar: true  // Optional: Shows a progress bar indicating the remaining time                        });                        setTimeout(() => {                            if (res.message === 'Successfully Logged, role: admin'){                                window.location.href = './views/dashboard.php';                            }                            if (res.message === 'Successfully Logged, role: cashier'){                                window.location.href = './views/pos_view.php';                            }                        }, 1000);                    }                    if (res.success === false){                        Swal.fire({                            text: res.message,                            icon: "warning",                            toast: true,                            background: '#6610F2',                            position: 'top-end',                            color: 'white',                            iconColor: 'white',                            showConfirmButton: false,                            timer: 1000,  // Auto close after 1 second                            timerProgressBar: true  // Optional: Shows a progress bar indicating the remaining time                        });                    }                }            })        })    })</script>